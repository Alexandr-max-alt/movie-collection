{"ast":null,"code":"import React from'react';import{Rating}from'./Rating';import{Comment}from'./Comment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Film=_ref=>{let{id,collection,onChangeRating,addComment,deleteComment,reloadPage}=_ref;const[writeComment,setWriteComment]=React.useState(false);const[value,setValue]=React.useState('');const addComment2=id=>{if(writeComment&&value){setValue('');addComment(id,value);};setWriteComment(!writeComment);};return collection.map((obj,index)=>{if(obj.id===id){return/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"title-film-info\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"title-back-button\",onClick:reloadPage,children:\"\\u2190\"}),/*#__PURE__*/_jsx(\"img\",{className:\"title-img\",src:obj.photo}),/*#__PURE__*/_jsxs(\"div\",{className:\"title-info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title-name\",children:obj.name}),/*#__PURE__*/_jsxs(\"h4\",{className:\"title-year\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Year:\"}),\" \",obj.year]}),/*#__PURE__*/_jsx(Rating,{collection:collection,onChangeRating:onChangeRating,id:id},index),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Description:\"}),\" \",obj.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Director:\"}),\" \",obj.director]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Actors:\"}),\" \",obj.actors]}),/*#__PURE__*/_jsx(\"a\",{href:obj.link,children:/*#__PURE__*/_jsx(\"span\",{className:\"title-link\",children:\"Watch\"})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"title-comments\",children:[\"Comments:\",collection[id-1].comments&&collection[id-1].comments.map((obj,commentIndex)=>{return/*#__PURE__*/_jsx(Comment,{deleteComment:deleteComment,id:id,index:commentIndex,...obj},commentIndex);})]}),writeComment&&/*#__PURE__*/_jsx(\"textarea\",{value:value,onChange:e=>setValue(e.target.value),placeholder:\"text\",className:\"title-textarea\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>addComment2(id),className:\"title-comment-button\",children:writeComment?'publish a review':'write a review'})]})]})},obj.id);}});};","map":{"version":3,"names":["React","Rating","Comment","jsx","_jsx","jsxs","_jsxs","Film","_ref","id","collection","onChangeRating","addComment","deleteComment","reloadPage","writeComment","setWriteComment","useState","value","setValue","addComment2","map","obj","index","className","children","onClick","src","photo","name","year","description","director","actors","href","link","comments","commentIndex","onChange","e","target","placeholder"],"sources":["C:/Users/ALEX/Desktop/test/src/Components/Film.jsx"],"sourcesContent":["import React from 'react';\r\nimport { Rating } from './Rating';\r\nimport { Comment } from './Comment';\r\n\r\nexport const Film = ({ id, collection, onChangeRating, addComment, deleteComment, reloadPage}) => {\r\n    const [writeComment, setWriteComment] = React.useState(false);\r\n    const [value, setValue] = React.useState('');\r\n\r\n    const addComment2 = (id) => {\r\n        if (writeComment && value) {\r\n            setValue('');\r\n            addComment(id, value);\r\n        };\r\n        setWriteComment(!writeComment);\r\n    };\r\n    \r\n    return (\r\n        collection.map((obj, index) => {\r\n            if (obj.id === id) {\r\n                return (\r\n                    <div key={obj.id} className='title'>\r\n                        <div className='title-film-info'>\r\n                            <button className='title-back-button' onClick={reloadPage}>&larr;</button>\r\n                            <img className='title-img' src={obj.photo}></img>\r\n                            <div className='title-info'>\r\n                                <h1 className='title-name'>{obj.name}</h1>\r\n                                <h4 className='title-year'><span>Year:</span> {obj.year}</h4>\r\n                                <Rating\r\n                                    key={index}\r\n                                    collection={collection}\r\n                                    onChangeRating={onChangeRating}\r\n                                    id={id}\r\n                                />\r\n                                <p><span>Description:</span> {obj.description}</p>\r\n                                <p><span>Director:</span> {obj.director}</p>\r\n                                <p><span>Actors:</span> {obj.actors}</p>\r\n                                <a href={obj.link}><span className='title-link'>Watch</span></a>\r\n                                <ul className='title-comments'>\r\n                                    Comments:\r\n                                    {collection[id-1].comments &&\r\n                                        collection[id-1].comments.map((obj, commentIndex) => {                                                                               \r\n                                            return <Comment\r\n                                                deleteComment={deleteComment}\r\n                                                id={id}\r\n                                                key={commentIndex}\r\n                                                index={commentIndex}\r\n                                                {...obj}\r\n                                            />\r\n                                        })\r\n                                    }\r\n                                </ul>\r\n                                {writeComment &&\r\n                                    <textarea value={value} onChange ={(e)=>setValue(e.target.value)} placeholder='text' className='title-textarea'></textarea>\r\n                                }\r\n                                <button onClick={()=>addComment2(id)} className='title-comment-button'>{writeComment ? 'publish a review' : 'write a review'}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n        })\r\n    ) \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}